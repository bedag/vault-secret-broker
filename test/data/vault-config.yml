---
policies:
  - name: broker
    rules:  path "auth/approle/role/broker_auth/secret-id"
            { capabilities = ["create"] }
            path "secret/data/development"
            { capabilities = ["read"], min_wrapping_ttl = "1m", max_wrapping_ttl = "5m" }

auth:
  - type: approle
    roles:
    - name: "broker_auth"
      policies: "broker"
      secret_id_ttl: ''
      secret_id_num_uses: 1
      token_ttl: 60s
      token_max_ttl: 60s
      token_num_uses: 2
      token_no_default_policy: false

secrets:
  - path: secret
    type: kv
    description: General secrets.
    options:
      version: 2

startupSecrets:
  - type: kv
    path: secret/data/development
    data:
      data:
        EXAMPLE_USER: "john_doe"
        EXAMPLE_PASSWORD: "0xdeadbeef"